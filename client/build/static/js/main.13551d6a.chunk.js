(this["webpackJsonptop5-lister-hw3"]=this["webpackJsonptop5-lister-hw3"]||[]).push([[0],{142:function(e,t,n){},172:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(44),i=n.n(s),o=(n(142),n(37)),c=n(18),l=n(14),u=n.n(l),d=n(19),j=n(13),p=n(87),m=n.n(p);m.a.defaults.withCredentials=!0;var b=m.a.create({baseURL:"/api"}),h={createTop5List:function(e){return b.post("/top5list/",e)},getAllTop5Lists:function(){return b.get("/top5lists/")},getTop5ListPairs:function(){return b.get("/top5listpairs/")},updateTop5ListById:function(e,t){return b.put("/top5list/".concat(e),t)},deleteTop5ListById:function(e){return b.delete("/top5list/".concat(e))},getTop5ListById:function(e){return b.get("/top5list/".concat(e))},getLoggedIn:function(){return b.get("/loggedIn/")},registerUser:function(e){return b.post("/register/",e)},loginUser:function(e){return b.post("/login/",e)},logoutUser:function(){return b.get("/logout/")}},x=n(231),f=n(221),O=n(233),g=n(224),v=n(35),L=n(36),y=function(){function e(){Object(v.a)(this,e),this.transactions=[],this.numTransactions=0,this.mostRecentTransaction=-1,this.performingDo=!1,this.performingUndo=!1}return Object(L.a)(e,[{key:"isPerformingDo",value:function(){return this.performingDo}},{key:"isPerformingUndo",value:function(){return this.performingUndo}},{key:"getSize",value:function(){return this.transactions.length}},{key:"getRedoSize",value:function(){return this.getSize()-this.mostRecentTransaction-1}},{key:"getUndoSize",value:function(){return this.mostRecentTransaction+1}},{key:"hasTransactionToRedo",value:function(){return this.mostRecentTransaction+1<this.numTransactions}},{key:"hasTransactionToUndo",value:function(){return this.mostRecentTransaction>=0}},{key:"addTransaction",value:function(e){if(this.mostRecentTransaction<0||this.mostRecentTransaction<this.transactions.length-1){for(var t=this.transactions.length-1;t>this.mostRecentTransaction;t--)this.transactions.splice(t,1);this.numTransactions=this.mostRecentTransaction+2}else this.numTransactions++;this.transactions[this.mostRecentTransaction+1]=e,this.doTransaction()}},{key:"doTransaction",value:function(){this.hasTransactionToRedo()&&(this.performingDo=!0,this.transactions[this.mostRecentTransaction+1].doTransaction(),this.mostRecentTransaction++,this.performingDo=!1)}},{key:"undoTransaction",value:function(){this.hasTransactionToUndo()&&(this.performingUndo=!0,this.transactions[this.mostRecentTransaction].undoTransaction(),this.mostRecentTransaction--,this.performingUndo=!1)}},{key:"clearAllTransactions",value:function(){this.transactions=[],this.mostRecentTransaction=-1,this.numTransactions=0}},{key:"toString",value:function(){var e="--Number of Transactions: "+this.numTransactions+"\n";e+="--Current Index on Stack: "+this.mostRecentTransaction+"\n",e+="--Current Transaction Stack:\n";for(var t=0;t<=this.mostRecentTransaction;t++){e+="----"+this.transactions[t].toString()+"\n"}return e}}]),e}(),T=n(76),w=n(75),I=function(e){Object(T.a)(n,e);var t=Object(w.a)(n);function n(e,r,a){var s;return Object(v.a)(this,n),(s=t.call(this)).store=e,s.oldItemIndex=r,s.newItemIndex=a,s}return Object(L.a)(n,[{key:"doTransaction",value:function(){this.store.moveItem(this.oldItemIndex,this.newItemIndex)}},{key:"undoTransaction",value:function(){this.store.moveItem(this.newItemIndex,this.oldItemIndex)}}]),n}(y),C=function(e){Object(T.a)(n,e);var t=Object(w.a)(n);function n(e,r,a,s){var i;return Object(v.a)(this,n),(i=t.call(this)).store=e,i.index=r,i.oldText=a,i.newText=s,i}return Object(L.a)(n,[{key:"doTransaction",value:function(){this.store.updateItem(this.index,this.newText)}},{key:"undoTransaction",value:function(){this.store.updateItem(this.index,this.oldText)}}]),n}(y),k=n(1),N=Object(r.createContext)({}),E="CHANGE_LIST_NAME",D="CLOSE_CURRENT_LIST",S="CREATE_NEW_LIST",A="LOAD_ID_NAME_PAIRS",P="MARK_LIST_FOR_DELETION",_="UNMARK_LIST_FOR_DELETION",R="SET_CURRENT_LIST",U="SET_ITEM_EDIT_ACTIVE",F="SET_LIST_NAME_EDIT_ACTIVE",M=new y;function z(e){var t=Object(r.useState)({idNamePairs:[],currentList:null,newListCounter:0,listNameActive:!1,itemActive:!1,listMarkedForDeletion:null}),n=Object(j.a)(t,2),a=n[0],s=n[1],i=Object(c.f)(),o=Object(r.useContext)(Q).auth,l=function(e){var t=e.type,n=e.payload;switch(t){case E:return s({idNamePairs:n.idNamePairs,currentList:null,newListCounter:a.newListCounter,isListNameEditActive:!1,isItemEditActive:!1,listMarkedForDeletion:null});case D:case _:return s({idNamePairs:a.idNamePairs,currentList:null,newListCounter:a.newListCounter,isListNameEditActive:!1,isItemEditActive:!1,listMarkedForDeletion:null});case S:return s({idNamePairs:a.idNamePairs,currentList:n,newListCounter:a.newListCounter+1,isListNameEditActive:!1,isItemEditActive:!1,listMarkedForDeletion:null});case A:return s({idNamePairs:n,currentList:null,newListCounter:a.newListCounter,isListNameEditActive:!1,isItemEditActive:!1,listMarkedForDeletion:null});case P:return s({idNamePairs:a.idNamePairs,currentList:n,newListCounter:a.newListCounter,isListNameEditActive:!1,isItemEditActive:!1,listMarkedForDeletion:n});case R:return s({idNamePairs:a.idNamePairs,currentList:n,newListCounter:a.newListCounter,isListNameEditActive:!1,isItemEditActive:!1,listMarkedForDeletion:null});case U:return s({idNamePairs:a.idNamePairs,currentList:a.currentList,newListCounter:a.newListCounter,isListNameEditActive:!1,isItemEditActive:!0,listMarkedForDeletion:null});case F:return s({idNamePairs:a.idNamePairs,currentList:null,newListCounter:a.newListCounter,isListNameEditActive:n,isItemEditActive:!1,listMarkedForDeletion:null});default:return a}};return a.changeListName=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===n){e.next=7;break}return e.next=3,h.getTop5ListById(t);case 3:(r=e.sent).data.success&&(a=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.updateTop5ListById(t._id,t);case 2:(r=e.sent).data.success&&(n=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getTop5ListPairs();case 2:(r=e.sent).data.success&&(n=r.data.idNamePairs,l({type:E,payload:{idNamePairs:n,top5List:t}}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(s=r.data.top5List).name=n,a(s)),e.next=8;break;case 7:l({type:F,payload:!1});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.closeCurrentList=function(){l({type:D,payload:{}}),M.clearAllTransactions(),i.push("/")},a.createNewList=Object(d.a)(u.a.mark((function e(){var t,n,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Untitled"+a.newListCounter,n={name:t,items:["?","?","?","?","?"],ownerEmail:o.user.email},e.next=4,h.createTop5List(n);case 4:(r=e.sent).data.success?(M.clearAllTransactions(),s=r.data.top5List,l({type:S,payload:s}),i.push("/top5list/"+s._id)):console.log("API FAILED TO CREATE A NEW LIST");case 6:case"end":return e.stop()}}),e)}))),a.loadIdNamePairs=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getTop5ListPairs();case 2:(t=e.sent).data.success?(n=t.data.idNamePairs,l({type:A,payload:n})):console.log("API FAILED TO GET THE LIST PAIRS");case 4:case"end":return e.stop()}}),e)}))),a.markListForDeletion=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getTop5ListById(t);case 2:(n=e.sent).data.success&&(r=n.data.top5List,l({type:P,payload:r}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.deleteList=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.deleteTop5ListById(t._id);case 2:e.sent.data.success&&(a.loadIdNamePairs(),i.push("/"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.deleteMarkedList=function(){a.deleteList(a.listMarkedForDeletion),a.unmarkListForDeletion()},a.unmarkListForDeletion=function(){l({type:_,payload:null})},a.setCurrentList=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getTop5ListById(t);case 2:if(!(n=e.sent).data.success){e.next=9;break}return r=n.data.top5List,e.next=7,h.updateTop5ListById(r._id,r);case 7:(n=e.sent).data.success&&(l({type:R,payload:r}),i.push("/top5list/"+r._id));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.addMoveItemTransaction=function(e,t){var n=new I(a,e,t);M.addTransaction(n)},a.addUpdateItemTransaction=function(e,t){var n=a.currentList.items[e],r=new C(a,e,n,t);M.addTransaction(r)},a.moveItem=function(e,t){if((e-=1)<(t-=1)){for(var n=a.currentList.items[e],r=e;r<t;r++)a.currentList.items[r]=a.currentList.items[r+1];a.currentList.items[t]=n}else if(e>t){for(var s=a.currentList.items[e],i=e;i>t;i--)a.currentList.items[i]=a.currentList.items[i-1];a.currentList.items[t]=s}a.updateCurrentList()},a.updateItem=function(e,t){a.currentList.items[e]=t,a.updateCurrentList()},a.updateCurrentList=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.updateTop5ListById(a.currentList._id,a.currentList);case 2:e.sent.data.success&&l({type:R,payload:a.currentList});case 4:case"end":return e.stop()}}),e)}))),a.undo=function(){M.undoTransaction()},a.redo=function(){M.doTransaction()},a.canUndo=function(){return M.hasTransactionToUndo()},a.canRedo=function(){return M.hasTransactionToRedo()},a.setIsListNameEditActive=function(){l({type:F,payload:!0})},a.setIsItemEditActive=function(){l({type:U,payload:null})},Object(k.jsx)(N.Provider,{value:{store:a},children:e.children})}var W={width:400,bgcolor:"background.paper",border:"2px solid #000",p:2,px:4,pb:3};function B(){Object(r.useContext)(N).store;var e=Object(r.useContext)(Q).auth;return Object(k.jsx)(f.a,{open:e.error,onClose:!e.error,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(k.jsxs)(x.a,{sx:W,children:[Object(k.jsx)(g.a,{severity:"warning",children:e.error_message}),Object(k.jsx)(O.a,{onClick:e.handleClose,children:"OK, I understand"})]})})}var G=Object(r.createContext)();console.log("create AuthContext: "+G);var V="GET_LOGGED_IN",q="REGISTER_USER",K="LOGIN_USER",Y="LOGOUT_USER",H="ERROR_MODAL";function J(e){var t=Object(r.useState)({user:null,loggedIn:!1,error:!1,error_message:""}),n=Object(j.a)(t,2),a=n[0],s=n[1],i=Object(c.f)();Object(r.useEffect)((function(){a.getLoggedIn()}),[]);var o=function(e){var t=e.type,n=e.payload;switch(t){case V:return s({user:n.user,loggedIn:n.loggedIn,error:!1,error_message:""});case q:case K:return s({user:n.user,loggedIn:!0,error:!1,error_message:""});case Y:return s({user:null,loggedIn:!1,error:!1,error_message:""});case H:return s({user:null,loggedIn:!1,error:n.error,error_message:n.msg});default:return a}};return a.getLoggedIn=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.getLoggedIn();case 3:t=e.sent,o({type:V,payload:{loggedIn:t.data.loggedIn,user:t.data.user}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("What happen");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),a.registerUser=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.registerUser(t);case 3:r=e.sent,o({type:q,payload:{user:r.data.user}}),i.push("/"),n.loadIdNamePairs(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data.errorMessage),o({type:H,payload:{error:!0,msg:e.t0.response.data.errorMessage}});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),a.loginUser=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.loginUser(t);case 3:r=e.sent,o({type:K,payload:{user:r.data.user}}),i.push("/"),n.loadIdNamePairs(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),o({type:H,payload:{error:!0,msg:e.t0.response.data.errorMessage}});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),a.logoutUser=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.logoutUser();case 3:e.sent,o({type:Y}),i.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o({type:H,payload:{error:!0,msg:e.t0.response.data.errorMessage}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),a.handleClose=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o({type:H,payload:{error:!1,msg:""}});case 1:case"end":return e.stop()}}),e)}))),Object(k.jsx)(G.Provider,{value:{auth:a},children:e.children})}var Q=G,X=n(55),Z=n(229),$=n(219),ee=n(220),te=n(236),ne=n(223),re=n(235),ae=n(232),se=n(228),ie=n(73),oe=n.n(ie),ce=n(234),le=n(118),ue=n(230);function de(e){return Object(k.jsxs)(ce.a,Object(X.a)(Object(X.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(k.jsx)(re.a,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var je=Object(le.a)();function pe(){var e=Object(r.useContext)(Q).auth,t=Object(r.useContext)(N).store;return Object(k.jsx)(ue.a,{theme:je,children:Object(k.jsxs)(se.a,{container:!0,component:"main",sx:{height:"100vh"},children:[Object(k.jsx)($.a,{}),Object(k.jsx)(se.a,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),Object(k.jsx)(se.a,{item:!0,xs:12,sm:8,md:5,component:ae.a,elevation:6,square:!0,children:Object(k.jsxs)(x.a,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(k.jsx)(Z.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(k.jsx)(oe.a,{})}),Object(k.jsx)(ce.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(k.jsxs)(x.a,{component:"form",noValidate:!0,onSubmit:function(n){n.preventDefault();var r=new FormData(n.currentTarget);e.loginUser({email:r.get("email"),password:r.get("password")},t)},sx:{mt:1},children:[Object(k.jsx)(ee.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(k.jsx)(ee.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(k.jsx)(te.a,{control:Object(k.jsx)(ne.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(k.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(k.jsxs)(se.a,{container:!0,children:[Object(k.jsx)(se.a,{item:!0,xs:!0,children:Object(k.jsx)(re.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(k.jsx)(se.a,{item:!0,children:Object(k.jsx)(re.a,{href:"#",variant:"body2",children:"Don't have an account? Sign Up"})})]}),Object(k.jsx)(de,{sx:{mt:5}}),Object(k.jsx)(B,{})]})]})})]})})}var me=n(112),be=n.n(me),he=n(113),xe=n.n(he),fe=n(114),Oe=n.n(fe);var ge=function(){var e=Object(r.useContext)(N).store,t=!1;return e.isItemEditActive&&(t=!0),Object(k.jsxs)("div",{id:"edit-toolbar",children:[Object(k.jsx)(O.a,{disabled:t||!e.canUndo(),id:"undo-button",onClick:function(){e.undo()},variant:"contained",children:Object(k.jsx)(be.a,{})}),Object(k.jsx)(O.a,{disabled:t||!e.canRedo(),id:"redo-button",onClick:function(){e.redo()},variant:"contained",children:Object(k.jsx)(xe.a,{})}),Object(k.jsx)(O.a,{disabled:t,id:"close-button",onClick:function(){e.closeCurrentList()},variant:"contained",children:Object(k.jsx)(Oe.a,{})})]})},ve=n(239),Le=n(240),ye=n(237),Te=n(225),we=n(119),Ie=n(115),Ce=n.n(Ie);function ke(){var e,t=Object(r.useContext)(Q).auth,n=Object(r.useContext)(N).store,a=Object(r.useState)(null),s=Object(j.a)(a,2),i=s[0],c=s[1],l=Boolean(i),u=function(){c(null)},d="primary-search-account-menu",p=Object(k.jsxs)(we.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},id:d,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:u,children:[Object(k.jsx)(Te.a,{onClick:u,children:Object(k.jsx)(o.b,{to:"/login/",children:"Login in"})}),Object(k.jsx)(Te.a,{onClick:u,children:Object(k.jsx)(o.b,{to:"/register/",children:"Create New Account"})})]}),m=Object(k.jsx)(we.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},id:d,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:u,children:Object(k.jsx)(Te.a,{onClick:function(){u(),t.logoutUser()},children:Object(k.jsx)(o.b,{to:"/logout/",children:"Logout"})})}),b="",h=p;return t.loggedIn&&(h=m,n.currentList&&(b=Object(k.jsx)(ge,{}))),Object(k.jsxs)(x.a,{sx:{flexGrow:1},children:[Object(k.jsx)(ve.a,{position:"static",children:Object(k.jsxs)(Le.a,{children:[Object(k.jsx)(ce.a,{variant:"h4",noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"}},children:Object(k.jsxs)(o.b,{style:{textDecoration:"none",color:"white"},to:"/",children:["T",Object(k.jsx)("sup",{children:"5"}),"L"]})}),Object(k.jsx)(x.a,{sx:{flexGrow:1},children:b}),Object(k.jsx)(x.a,{sx:{display:{xs:"none",md:"flex"}},children:Object(k.jsx)(ye.a,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":d,"aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},color:"inherit",children:(e=t.loggedIn,e?t.user.lastName[0]+t.user.firstName[0]:Object(k.jsx)(Ce.a,{}))})})]})}),h]})}var Ne=n(226),Ee=n(74),De=n.n(Ee),Se=n(116),Ae=n.n(Se);var Pe=function(){var e=Object(r.useContext)(N).store,t="";return e.currentList&&(t=e.currentList.name),Object(k.jsx)(f.a,{open:null!=e.listMarkedForDeletion,onClose:null==e.listMarkedForDeletion,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(k.jsxs)(x.a,{sx:{width:400,bgcolor:"background.paper",border:"2px solid #000",p:2,px:4,pb:3},children:[Object(k.jsxs)(g.a,{severity:"warning",children:["Delete the ",t," Top 5 List?"]}),Object(k.jsx)(O.a,{onClick:function(t){e.deleteMarkedList()},children:"Confirm"}),Object(k.jsx)(O.a,{onClick:function(t){e.unmarkListForDeletion()},children:"Cancel"})]})})};var _e=function(e){var t=Object(r.useContext)(N).store,n=Object(r.useState)(!1),a=Object(j.a)(n,2),s=a[0],i=a[1],o=Object(r.useState)(""),c=Object(j.a)(o,2),l=c[0],p=c[1],m=e.idNamePair;function b(){var e=!s;e&&t.setIsListNameEditActive(),i(e)}function h(){return(h=Object(d.a)(u.a.mark((function e(n,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.stopPropagation(),t.markListForDeletion(r);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=!1;t.isListNameEditActive&&(f=!0);var O=Object(k.jsxs)(Ne.a,{id:m._id,sx:{marginTop:"15px",display:"flex",p:1},button:!0,onClick:function(e){!function(e,n){e.target.disabled||f||t.setCurrentList(n)}(e,m._id)},style:{fontSize:"48pt",width:"100%"},children:[Object(k.jsx)(x.a,{sx:{p:1,flexGrow:1},children:m.name}),Object(k.jsx)(x.a,{sx:{p:1},children:Object(k.jsx)(ye.a,{onClick:function(e){e.stopPropagation(),b()},"aria-label":"edit",disabled:f,children:Object(k.jsx)(De.a,{style:{fontSize:"48pt"}})})}),Object(k.jsx)(x.a,{sx:{p:1},children:Object(k.jsx)(ye.a,{onClick:function(e){!function(e,t){h.apply(this,arguments)}(e,m._id)},"aria-label":"delete",disabled:f,children:Object(k.jsx)(Ae.a,{style:{fontSize:"48pt"}})})})]},m._id);return s&&(O=Object(k.jsx)(ee.a,{margin:"normal",required:!0,fullWidth:!0,id:"list-"+m._id,label:"Top 5 List Name",name:"name",autoComplete:"Top 5 List Name",className:"list-card",onKeyPress:function(e){if("Enter"===e.code){var n=e.target.id.substring("list-".length);t.changeListName(n,l),b()}},onChange:function(e){p(e.target.value)},defaultValue:m.name,inputProps:{style:{fontSize:48}},InputLabelProps:{style:{fontSize:24}},autoFocus:!0})),O},Re=n(242),Ue=n(117),Fe=n.n(Ue),Me=n(238),ze=function(){var e=Object(r.useContext)(N).store;Object(r.useEffect)((function(){e.loadIdNamePairs()}),[]);var t="",n=!1;return e.isListNameEditActive&&(n=!0),e&&(t=Object(k.jsx)(Me.a,{sx:{width:"90%",left:"5%",bgcolor:"background.paper"},children:e.idNamePairs.map((function(e){return Object(k.jsx)(_e,{idNamePair:e,selected:!1},e._id)}))})),Object(k.jsxs)("div",{id:"top5-list-selector",children:[Object(k.jsxs)("div",{id:"list-selector-heading",children:[Object(k.jsx)(Re.a,{color:"primary","aria-label":"add",id:"add-list-button",disabled:n,onClick:function(){e.createNewList()},children:Object(k.jsx)(Fe.a,{})}),Object(k.jsx)(ce.a,{variant:"h2",children:"Your Lists"})]}),Object(k.jsx)("div",{id:"list-selector-list",children:t}),Object(k.jsx)(Pe,{})]})};function We(){return Object(k.jsxs)("div",{id:"splash-screen",children:["The Top 5",Object(k.jsx)("br",{}),"Lister"]})}function Be(){var e=Object(r.useContext)(Q).auth;return console.log("HomeWrapper auth.loggedIn: "+e.loggedIn),e.loggedIn?Object(k.jsx)(ze,{}):Object(k.jsx)(We,{})}function Ge(e){return Object(k.jsxs)(ce.a,Object(X.a)(Object(X.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(k.jsx)(re.a,{color:"inherit",href:"/",children:"The Top 5 Lister"})," ",(new Date).getFullYear(),"."]}))}var Ve=n(241);function qe(){var e=Object(r.useContext)(Q).auth,t=Object(r.useContext)(N).store;return Object(k.jsxs)(Ve.a,{component:"main",maxWidth:"xs",children:[Object(k.jsx)($.a,{}),Object(k.jsxs)(x.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(k.jsx)(Z.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(k.jsx)(oe.a,{})}),Object(k.jsx)(ce.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(k.jsxs)(x.a,{component:"form",noValidate:!0,onSubmit:function(n){n.preventDefault();var r=new FormData(n.currentTarget);e.registerUser({firstName:r.get("firstName"),lastName:r.get("lastName"),email:r.get("email"),password:r.get("password"),passwordVerify:r.get("passwordVerify")},t)},sx:{mt:3},children:[Object(k.jsxs)(se.a,{container:!0,spacing:2,children:[Object(k.jsx)(se.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(ee.a,{autoComplete:"fname",name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})}),Object(k.jsx)(se.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(ee.a,{required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname"})}),Object(k.jsx)(se.a,{item:!0,xs:12,children:Object(k.jsx)(ee.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),Object(k.jsx)(se.a,{item:!0,xs:12,children:Object(k.jsx)(ee.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password"})}),Object(k.jsx)(se.a,{item:!0,xs:12,children:Object(k.jsx)(ee.a,{required:!0,fullWidth:!0,name:"passwordVerify",label:"Password Verify",type:"password",id:"passwordVerify",autoComplete:"new-password"})})]}),Object(k.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(k.jsx)(se.a,{container:!0,justifyContent:"flex-end",children:Object(k.jsx)(se.a,{item:!0,children:Object(k.jsx)(re.a,{href:"/login/",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(k.jsx)(Ge,{sx:{mt:5}}),Object(k.jsx)(B,{})]})}var Ke=function(){var e=Object(r.useContext)(N).store,t="";return e.currentList&&(t=e.currentList.name),Object(k.jsx)("div",{id:"top5-statusbar",children:Object(k.jsx)(ce.a,{variant:"h4",children:t})})};var Ye=function(e){var t=Object(r.useContext)(N).store,n=Object(r.useState)(!1),a=Object(j.a)(n,2),s=a[0],i=a[1],o=Object(r.useState)(0),c=Object(j.a)(o,2),l=c[0],u=c[1],d=Object(r.useState)(""),p=Object(j.a)(d,2),m=p[0];function b(){var e=!s;e&&t.setIsItemEditActive(),i(e)}p[1];var h=!1;t.isItemEditActive&&(h=!0);var f=e.index,O="top5-item";l&&(O="top5-item-dragged-to");var g=Object(k.jsxs)(Ne.a,{id:"item-"+(f+1),className:O,onDragStart:function(e){!function(e,t){e.dataTransfer.setData("item",t)}(e,f+1)},onDragOver:function(e){!function(e){e.preventDefault()}(e)},onDragEnter:function(e){!function(e){e.preventDefault(),console.log("entering"),u(!0)}(e)},onDragLeave:function(e){!function(e){e.preventDefault(),console.log("leaving"),u(!1)}(e)},onDrop:function(e){!function(e,n){e.preventDefault();var r=e.dataTransfer.getData("item");r=r.substring(r.indexOf("-")+1),u(!1),console.log("handleDrop (sourceId, targetId): ( "+r+", "+n+")"),t.addMoveItemTransaction(r,n)}(e,f+1)},draggable:"true",sx:{display:"flex",p:1},style:{fontSize:"48pt",width:"100%"},children:[Object(k.jsx)(x.a,{sx:{p:1},children:Object(k.jsx)(ye.a,{onClick:function(e){e.stopPropagation(),b()},"aria-label":"edit",disabled:h,children:Object(k.jsx)(De.a,{style:{fontSize:"48pt"}})})}),Object(k.jsx)(x.a,{sx:{p:1,flexGrow:1},children:e.text})]},e.key);return s&&(g=Object(k.jsx)(ee.a,{margin:"normal",required:!0,fullWidth:!0,id:"item-"+m,label:"Top 5 Item Name",name:"name",autoComplete:"Top 5 Item Name",className:"top5-item",onKeyPress:function(n){"Enter"===n.code&&(t.addUpdateItemTransaction(e.index,n.target.value),b())},defaultValue:e.text,inputProps:{style:{fontSize:48}},InputLabelProps:{style:{fontSize:24}},autoFocus:!0})),g};var He=function(){var e=Object(r.useContext)(N).store;Object(r.useEffect)((function(){console.log(window.location.href.substring(31)),e.setCurrentList(window.location.href.substring(31))}),[]);var t="";return e.currentList&&(t=Object(k.jsx)(Me.a,{id:"edit-items",sx:{width:"100%",bgcolor:"background.paper"},children:e.currentList.items.map((function(e,t){return Object(k.jsx)(Ye,{text:e,index:t},"top5-item-"+(t+1))}))})),Object(k.jsx)("div",{id:"top5-workspace",children:Object(k.jsxs)("div",{id:"workspace-edit",children:[Object(k.jsxs)("div",{id:"edit-numbering",children:[Object(k.jsx)("div",{className:"item-number",children:Object(k.jsx)(ce.a,{variant:"h3",children:"1."})}),Object(k.jsx)("div",{className:"item-number",children:Object(k.jsx)(ce.a,{variant:"h3",children:"2."})}),Object(k.jsx)("div",{className:"item-number",children:Object(k.jsx)(ce.a,{variant:"h3",children:"3."})}),Object(k.jsx)("div",{className:"item-number",children:Object(k.jsx)(ce.a,{variant:"h3",children:"4."})}),Object(k.jsx)("div",{className:"item-number",children:Object(k.jsx)(ce.a,{variant:"h3",children:"5."})})]}),t]})})},Je=function(){return Object(k.jsx)(o.a,{children:Object(k.jsx)(J,{children:Object(k.jsxs)(z,{children:[Object(k.jsx)(ke,{}),Object(k.jsxs)(c.c,{children:[Object(k.jsx)(c.a,{path:"/",exact:!0,component:Be}),Object(k.jsx)(c.a,{path:"/register/",exact:!0,component:qe}),Object(k.jsx)(c.a,{path:"/top5list/:id",exact:!0,component:He}),Object(k.jsx)(c.a,{path:"/login/",exact:!0,component:pe}),Object(k.jsx)(c.a,{path:"/logout/",exact:!0,component:We})]}),Object(k.jsx)(Ke,{})]})})})},Qe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,244)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),s(e),i(e)}))};i.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(Je,{})}),document.getElementById("root")),Qe()}},[[172,1,2]]]);
//# sourceMappingURL=main.13551d6a.chunk.js.map